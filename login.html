<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Login Kasir UMKM</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="style.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container py-5">
  <h3 class="text-center mb-4 text-primary">🔐 Login Kasir UMKM</h3>
  <div class="card p-4 shadow">
    <input id="username" class="form-control mb-2" placeholder="Username">
    <input id="password" type="password" class="form-control mb-3" placeholder="Password">
    <button onclick="login()" class="btn btn-success w-100">Login</button>
    <hr>
    <button onclick="register()" class="btn btn-outline-primary w-100">Daftar Akun Baru</button>
  </div>
</div>

<script>
const users = JSON.parse(localStorage.getItem("users") || "[]");

function login() {
  const uname = document.getElementById("username").value;
  const pass = document.getElementById("password").value;
  const found = users.find(u => u.username === uname && u.password === pass);
  if (found) {
    localStorage.setItem("loginUser", JSON.stringify(found));
    window.location.href = "index.html";
  } else {
    alert("Username atau password salah.");
  }
}

function register() {
  const uname = document.getElementById("username").value;
  const pass = document.getElementById("password").value;
  if (uname && pass) {
    if (users.find(u => u.username === uname)) {
      alert("Username sudah terdaftar.");
    } else {
      users.push({ username: uname, password: pass });
      localStorage.setItem("users", JSON.stringify(users));
      alert("Akun berhasil dibuat. Silakan login.");
    }
  } else {
    alert("Isi username dan password.");
  }
}
</script>
</body>
</html>